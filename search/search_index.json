{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"DataRun System, NMCP Yemen","text":""},{"location":"#1-introduction","title":"1. Introduction","text":""},{"location":"#11-purpose","title":"1.1 Purpose","text":"<p>The purpose of this document is to provide a comprehensive overview of the DataRun, developed to manage activities and data for the National Malaria Control Program (NMCP). This document serves as a foundational reference for understanding its architecture, features, and functionalities. It is intended to facilitate the ongoing development, maintenance, and enhancement of DataRun, ensuring its effective implementation and integration with other health information systems.</p>"},{"location":"#12-scope","title":"1.2 Scope","text":"<p>This document is intended to cover DataRun in its entirety, including its design, architecture, key features, data management, database schema, user management, interoperability, security, user interface, workflow management, implementation details, and future enhancements. It provides detailed descriptions, diagrams, and visual aids to help stakeholders understand DataRun's components and their interactions.</p> <p>Note: This site will serve as a centralized place where users can access up-to-date information, guides, and resources. This includes code snippets for interacting with the API; metadata descriptions; live integrations with other platforms and tools. It will evolve alongside DataRun, to ensure users can effectively leverage its capabilities. Stay tuned for regular updates as new features and improvements are added, visit https://docs.nmcpye.org.</p>"},{"location":"#13-audience","title":"1.3 Audience","text":"<p>The intended audience for this document includes:</p> <ul> <li>End Users: For understanding DataRun and how to use it.</li> <li>Developers and Engineers: For understanding the technical architecture and development requirements.</li> <li>Project Managers and Coordinators: For planning and overseeing the DataRun's deployment and usage.</li> <li>Data Analysts and Researchers: For utilizing the data collection and visualization tools.</li> <li>System Administrators: For managing and maintaining the DataRun's infrastructure and security.</li> <li>Policy Makers and Stakeholders: For evaluating the DataRun's effectiveness and integration with national health strategies.</li> </ul>"},{"location":"#2-datarun-overview","title":"2. DataRun Overview","text":""},{"location":"#21-datarun-description","title":"2.1 DataRun Description","text":"<p>DataRun is an advanced information system designed to address the dynamic needs of the program's operations. It is designed mainly to support field Activities and streamlinining their data submission. DataRun adopts a modular architecture, allowing for the dynamic configuration and management of Organisation Units, Warehouses, projects, activities, teams, and assignments And intended to seamlessly integrate with other systems for health surveillance, information management, and service delivery.</p> <p>Modular and Scalable Architecture</p> <p>From its inception, DataRun was envisioned as a small but highly modular platform. This strategic decision allows us to build upon the core functionalities, enabling seamless integration of new features and capabilities as the program evolves. The modular design ensures that each component can operate independently while remaining interconnected, facilitating easy updates and expansions without disrupting existing operations.</p>"},{"location":"#22-key-features","title":"2.2 Key Features","text":"<ul> <li>Modular Design: DataRun's modular architecture separates activities, projects, teams, and assignments, promoting organization, scalability, and ease of future expansion.</li> <li>Dynamic Data Management and Data Forms Creation: Efficiently handle all information related to malaria cases, treatment protocols, and program activities. DataRun also allows the creation and configuration of data forms tailored to specific activities, ensuring relevant and accurate data collection.</li> <li>Data Flow Management: By specifying data entry and flow processes, DataRun enhances data integrity and traceability, critical for program monitoring and evaluation.</li> <li>Data Collection: Mobile and web supporting online and offline data collection in remote areas without internet connectivity, with a synchronization mechanism to upload data once connectivity is restored.</li> <li>Data Visualization Tools: Pivot tables, charts, and dashboards are included for effective data analysis and the generation of user-friendly reports to aid in decision-making.</li> <li>Interoperability And Flexible Integration: With its Open Architecture (API) it can easily integrate with other systems and databases supporting data interoperability with other health intervention areas (Eg. disease surveillance systems), quick and easy integration with existing platforms and systems such as supply chain, HRMS, LMIS, and DHIS2, ODK, facilitating coordination at scale ensuring a holistic approach to the program management.</li> </ul> <p>Future Growth</p> <p>As we move forward, the DataRun's modular foundation will allow us to introduce new functionalities and adapt to emerging needs. Whether it's integrating advanced analytics, enhancing user interfaces, or incorporating new data sources, DataRun is built to grow and evolve alongside the National Malaria Program. Its modularity ensures that it will continue to meet the program's needs, providing a reliable and scalable solution for years to come.</p>"},{"location":"#23-objectives","title":"2.3 Objectives","text":"<p>The primary objectives of the DataRun are:</p> <ul> <li>Enhance Data Management: To improve the collection, processing, and storage of data related to NMCP activities.</li> <li>Support Decision-Making: To provide tools and reports that aid in informed decision-making for malaria control and prevention efforts.</li> <li>Enable Field Data Collection: To facilitate offline data collection in remote areas, ensuring comprehensive data capture regardless of internet connectivity.</li> <li>Ensure Data Integrity: To maintain high standards of data integrity and traceability through structured data flow management processes.</li> <li>Enhance Intervention Planning: Ability to reuse Activities data for planning and executing other activitiess leading to lower costs and lower turnaround time, leading to better estimation and planning.</li> </ul>"},{"location":"#3-setting-up-the-development-environment","title":"3. Setting Up the Development Environment","text":"<p>This section provides a comprehensive guide to setting up the development environment for DataRun. The system comprises multiple repositories, each with specific dependencies and setup requirements. Follow the instructions below to get started.</p>"},{"location":"#31-prerequisites","title":"3.1 Prerequisites","text":"<p>The build system will install automatically the recommended version of Node and npm. - Git: For cloning repositories. - Docker: For containerization. - Java (JDK 17+): For running Spring Boot applications. - Node.js (20.15): For the Angular front-end. - Flutter and Dart SDKs (&gt;=3.3.0): For developing the mobile application and the mobile SDK.</p>"},{"location":"#32-repository-setup","title":"3.2 Repository Setup","text":"<ol> <li> <p>data-run-api (Spring Boot, PostgreSQL, MongoDB)</p> </li> <li> <p>Clone the Repository: <pre><code>git clone https://github.com/MassPro-NMCPYE/data-run-api.git\ncd data-run-api\n</code></pre></p> </li> <li>Configure Application Properties:      Edit <code>src/main/resources/application-dev.yml</code> to match your database configurations:      <pre><code>spring:\n   # Mongodb Configuration\n   data:            \n       mongodb:\n       uri: mongodb://localhost:27017/databaseName\n       auto-index-creation: true\n\n   # PostgreSQL Configuration\n   datasource:\n       url: jdbc:postgresql://localhost:5432/databaseName\n       username: dbUsername\n       password: dbPassword\n</code></pre></li> <li> <p>Run the Application: <pre><code>./mvnw\n</code></pre></p> </li> <li> <p>data-run-front-end (Angular)</p> </li> <li>Clone the Repository: <pre><code>git clone https://github.com/MassPro-NMCPYE/data-run-front-end.git\ncd data-run-front-end\n</code></pre></li> <li>Install Dependencies: <pre><code>npm install\n</code></pre></li> <li>Configure API Endpoint:      Edit the environment file (<code>webpack/environment.js</code>) to point to the API:      <pre><code>module.exports = {\n  I18N_HASH: 'generated_hash',\n  SERVER_API_URL: '',\n  __VERSION__: process.env.hasOwnProperty('APP_VERSION') ? process.env.APP_VERSION : 'DEV',\n  __DEBUG_INFO_ENABLED__: false,\n};\n</code></pre></li> <li> <p>Run the Application: <pre><code>ng serve\n</code></pre></p> </li> <li> <p>data-run-mobile-sdk (Dart)</p> </li> <li>Clone the Repository: <pre><code>git clone https://github.com/MassPro-NMCPYE/data-run-mobile-sdk.git\ncd data-run-mobile-sdk\n</code></pre></li> <li>Install Dependencies: <pre><code>dart pub get\n</code></pre></li> <li>data-run-mobile-app (Flutter)</li> <li>Clone the Repository: <pre><code>git clone https://github.com/MassPro-NMCPYE/data-run-mobile.git\ncd data-run-mobile\n</code></pre></li> <li>Install Dependencies: <pre><code>flutter pub get\n</code></pre></li> <li>Run the Application: <pre><code>flutter run\n</code></pre></li> <li> <p>Configure API Endpoint:      Update the API endpoint in your Dart SDK configuration file <code>lib/commons/constants.dart</code>:      ```dart      const String apiUrl = 'http://localhost:8080';</p> </li> <li> <p>data-run-docs</p> </li> <li>Clone the Repository: <pre><code>git clone https://github.com/MassPro-NMCPYE/data-run-docs.git\ncd data-run-docs\n</code></pre></li> <li>Install MkDocs and mkdocs-materia: <pre><code>pip install mkdocs\npip install mkdocs-materia\n</code></pre></li> <li>Serve the Documentation: <pre><code>mkdocs serve\n</code></pre></li> </ol>"},{"location":"#34-building-for-production","title":"3.4 Building for production","text":""},{"location":"#341-packaging-as-jar","title":"3.4.1 Packaging as jar","text":"<p>To build the final jar and optimize the dataRunApi application for production, run:</p> <pre><code>./mvnw -Pprod clean verify\n</code></pre> <p>To ensure everything worked, run:</p> <pre><code>java -jar target/*.jar\n</code></pre>"},{"location":"#342-packaging-as-war","title":"3.4.2 Packaging as war","text":"<p>To package your application as a war in order to deploy it to an application server, run:</p> <pre><code>./mvnw -Pprod,war clean verify\n</code></pre>"},{"location":"#35-testing","title":"3.5 Testing","text":""},{"location":"#spring-boot-tests","title":"Spring Boot tests","text":"<p>To launch your application's tests, run:</p> <pre><code>./mvnw verify\n</code></pre>"},{"location":"#36-using-docker-to-simplify-development-optional","title":"3.6 Using Docker to simplify development (optional)","text":"<p>You can use Docker to improve your development experience. A number of docker-compose configuration are available in the src/main/docker folder to launch required third party services.</p> <p>For example, to start a postgresql database in a docker container, run:</p> <pre><code>docker compose -f src/main/docker/postgresql.yml up -d\n</code></pre> <p>To stop it and remove the container, run:</p> <pre><code>docker compose -f src/main/docker/postgresql.yml down\n</code></pre> <p>to start a mongodb database in a docker container, run:</p> <pre><code>docker compose -f src/main/docker/mongodb.yml up -d\n</code></pre> <p>To stop it and remove the container, run:</p> <pre><code>docker compose -f src/main/docker/mongodb.yml down\n</code></pre> <p>You can also fully dockerize your application and all the services that it depends on. To achieve this, first build a docker image of your app by running:</p> <pre><code>npm run java:docker\n</code></pre> <p>Or build a arm64 docker image when using an arm64 processor os like MacOS with M1 processor family running:</p> <pre><code>npm run java:docker:arm64\n</code></pre> <p>Then run:</p> <pre><code>docker compose -f src/main/docker/app.yml up -d\n</code></pre>"},{"location":"#37-cloud-setup-google-cloud","title":"3.7 Cloud Setup (Google Cloud)","text":"<ol> <li>Set Up Google Cloud Account:</li> <li> <p>Sign up for a Google Cloud account and create a new project.</p> </li> <li> <p>Google Cloud SDK:</p> </li> <li> <p>Install the Google Cloud SDK on your local machine.      <pre><code>curl https://sdk.cloud.google.com | bash\nexec -l $SHELL\ngcloud init\n</code></pre></p> </li> <li> <p>Set Up Kubernetes Cluster:</p> </li> <li> <p>Create a Kubernetes cluster for container orchestration.      <pre><code>gcloud container clusters create your-cluster-name\n</code></pre></p> </li> <li> <p>Deploying Containers:</p> </li> <li>Build Docker images for your services and push them to Google Container Registry.      <pre><code>docker build -t gcr.io/your-project-id/data-run-api .\ndocker push gcr.io/your-project-id/data-run-api\n</code></pre></li> <li>Deploy the images to your Kubernetes cluster using Kubernetes manifests.</li> </ol> <p>All System Schema:</p> <pre><code>erDiagram\n  Project ||--o{ Activity : \"project\"\n  Activity ||--o{ Assignment : \"activity\"\n  Activity ||--o{ Team : \"activity\"\n  Activity ||--o{ Warehouse : \"activity\"\n  Activity ||--o{ DataForm : \"activity\"\n  Team ||--o{ Assignment : \"assignments\"\n  Assignment ||--o{ organizationUnit : \"organizationUnit\"\n  User ||--o{ Team : \"userInfo\"\n\n  ProjectManagement\n  UserManagement\n  DataCollection\n  Reporting\n  FileService\n\n</code></pre>"},{"location":"architecture/","title":"3. Architecture","text":"<ul> <li>System Architecture:</li> <li>Modules and Components:</li> <li>Projects</li> <li>Activities</li> <li>Teams</li> <li>Assignments</li> <li>Data Entry and Data Flow Management</li> </ul>"},{"location":"data-management/","title":"4. Data Management","text":"<ul> <li>Data Forms:</li> <li>Data Flow:</li> <li>Data Validation:</li> </ul>"},{"location":"database-schema/","title":"5. Database Schema","text":"<ul> <li>Schema Overview:</li> <li>Entity Relationship Diagrams:</li> <li>Table Descriptions:</li> </ul>"},{"location":"diagrams-and-visuals/","title":"14. Diagrams and Visuals","text":"<ul> <li>System Diagrams:</li> <li>Data Flow Diagrams:</li> <li>UI Mockups:</li> </ul>"},{"location":"future-enhancements/","title":"12. Future Enhancements","text":"<ul> <li>Planned Features:</li> <li> <p>Roadmap:</p> </li> <li> <p>Security Enhancements:  The report doesn't explicitly mention security features. Implementing robust user authentication, authorization, and data encryption is crucial for protecting sensitive patient health information.</p> </li> <li>Granular User Roles and Permissions:  Define user roles and permissions to control access to specific functionalities based on user profiles (e.g., healthcare worker, data analyst). This ensures data security and adherence to data governance principles.</li> <li>Audit Trail Implementation:  Implement audit trails to track user activity and data changes for accountability purposes and troubleshooting potential data integrity issues.</li> <li>Integration with DataRun:  The system is designed to accommodate workflow management functionalities. This might involve:       Workflow Builder:*  A user interface where program administrators can define and configure workflows for different activities.       Task Management:  track assigned tasks, their status (pending, completed, overdue), and responsible personnel.       Data Pre-population:  pre-populate forms with relevant data based on the workflow context (e.g., beneficiary information during ITN distribution).       *Reporting:  Generate reports to track workflow progress, identify bottlenecks, and measure overall efficiency.</li> </ul>"},{"location":"implementation-details/","title":"Implementation details","text":""},{"location":"implementation-details/#11-implementation-details","title":"11. Implementation Details","text":"<ul> <li>Development Environment:</li> <li>Deployment:</li> <li>Maintenance and Updates:</li> </ul>"},{"location":"interoperability-and-standards/","title":"7. Interoperability and Standards","text":"<ul> <li>APIs and Integration:</li> <li>Interoperability Standards:</li> <li>Data Exchange:</li> </ul>"},{"location":"security/","title":"8. Security","text":"<ul> <li>Authentication and Authorization:</li> <li>Data Encryption:</li> <li>Security Best Practices:</li> </ul>"},{"location":"user-interface/","title":"9. User Interface","text":"<ul> <li>Mobile App:</li> <li>Web Frontend:</li> </ul>"},{"location":"user-management/","title":"6. User Management","text":"<ul> <li>User Roles and Permissions:</li> <li>User Management Features:</li> </ul>"},{"location":"workflow-management/","title":"10. Workflow Management","text":"<ul> <li>Workflow Builder:</li> <li>Task Management:</li> <li>Reporting:</li> </ul>"}]}